<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!-- This meta tag ensures that the website renders correctly across different device sizes, enhancing mobile responsiveness. -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Link to the external CSS stylesheet. Uncomment if you wish to customize or add styling. -->
    <link rel="stylesheet" href="styles.css">  

    <title>Database Application</title>
</head>

<body>
    <!-- ===================================================================================== -->
    <!-- Display the current status of the database connection. 
         !!HERE TO HELP U DEBUGGING, NOT REQUIRED IN YOUR OWN PROJECT!!
         -->
    <h1>Database Connection Status:
        <!-- An in-line placeholder to display connection status. -->
        <span id="dbStatus"> </span>
        <!-- A loading GIF, will be hided once get the status. -->
        <img id="loadingGif" class="loading-gif" src="loading_100px.gif" alt="Loading...">
    </h1>

    <br>
    <hr><br> <!-- ========================================================================= -->

    <h2>Show Users</h2>
    <table id="appUser" border="1">
        <thead>
            <tr>
                <th>UserID</th>
                <th>First Name</th>
                <th>Last Name</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

     <!--Plantlog Display-->

    <h2>Plant Log</h2>
    <button id="resetPlantLogBtn">Reset Plant Log Table</button>
    <p id="plantLogResetMsg"></p>

    <table id="plantLogTable" border="1">
    <thead>
        <tr>
        <th>PlantLogID</th><th>PlantID</th><th>Species</th><th>SoilID</th><th>Date Planted</th><th>Growth</th><th>Harvest Date</th>
        </tr>
    </thead>
    <tbody></tbody>
    </table>

    <!--End of Plantlog display-->

    <!-- Gardenlog Display -->
    <h2>Garden Log</h2>
    <button id="resetGardenLog">Reset Garden Log Table</button>
    <p id="GardenLogResetMsg"></p>

    <table id="gardenLogTable" border="1">
    <thead>
        <tr>
        <th>GardenLogID</th>
        <th>GardenID</th>
        <th>Weather</th>
        <th>Monthly Avg Temp</th>
        <th>Controlled Temp</th>
        </tr>
    </thead>
    <tbody></tbody>
    </table>


    <h2>Find User</h2>
    <form id="searchUserForm">
        <label for="searchUserId">User ID:</label>
        <input type="number" id="searchUserId" name="userID">
        <label for="searchFirstName">First Name:</label>
        <input type="text" id="searchFirstName" name="firstName">
        <label for="searchLastName">Last Name:</label>
        <input type="text" id="searchLastName" name="lastName">
        <button type="submit">Search</button>
    </form>
    <p id="searchResultMsg"></p>
    <table id="searchResultsTable" border="1">
        <thead>
            <tr>
                <th>UserID</th>
                <th>First Name</th>
                <th>Last Name</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <h2>Find Plant Details</h2>
    <form id="searchPlantForm">
        <input type="text" id="searchPlantID" name="plantID" placeholder="Plant ID">

        <label for="species">Species:</label>
        <select id="species" name="species">
            <option value="">-- Any --</option>
            <option value="rose">Rose</option>
            <option value="tulip">Tulip</option>
            <option value="sunflower">Sunflower</option>
        </select>

        <input type="text" id="searchPlantName" name="plantName" placeholder="Plant Name">

        <label for="growth">Growth:</label>
        <select id="growth" name="growth">
            <option value="">-- Any --</option>
            <option value="seedling">Seedling</option>
            <option value="vegetative">Vegetative</option>
            <option value="flowering">Flowering</option>
            <option value="mature">Mature</option>
        </select>

        <input type="text" id="searchFamilyID" name="familyID" placeholder="Family ID">

        <label for="harvestable">Harvestable:</label>
        <select id="searchHarvestable" name="harvestable">
            <option value="">-- Any --</option>
            <option value="1">Yes</option>
            <option value="0">No</option>
        </select>

        <label for="prefEnvironment">Preferred Environment:</label>
        <select id="prefEnvironment" name="prefEnvironment">
            <option value="">-- Any --</option>
            <option value="sunny">Sunny</option>
            <option value="shady">Shady</option>
            <option value="humid">Humid</option>
            <option value="dry">Dry</option>
        </select>

        <button type="submit">Search Plants</button>
    </form>

    <p id="searchPlantResultMsg"></p>

    <table id="searchPlantResultsTable">
        <thead>
            <tr>
                <th>Plant ID</th>
                <th>Plant Name</th>
                <th>Species</th>
                <th>Family ID</th>
                <th>Floral Structure</th>
                <th>Seed Type</th>
                <th>Harvestable</th>
                <th>Preferred Environment</th>
                <th>Plant Log ID</th>
                <th>Date Planted</th>
                <th>Growth</th>
                <th>Harvest Date</th>
                <th>Soil ID</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

        <h2> Show User's Task(s) </h2>
        <form id="showUserTasksForm">
            ID: <input type="number" id="userIDInput" placeholder="Enter UserID" required> <br><br>
            <button type="submit"> Search </button> <br>
        </form>
        <div id="userTasksResultMsg"></div>
        <table id="tasksTable" border="1" style="display: none;">
            <thead>
                <tr>
                    <th>taskID</th>
                    <th>frequency</th>
                    <th>details</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>

        <h2>Show Plants</h2>
        <table id="plantTable" border="1">
            <thead>
                <tr>
                    <th>PlantID</th>
                    <th>Species</th>
                    <th>Plant Name</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>

    <br>
    <hr><br> <!-- ========================================================================= -->
    <section class = "reset-populate-section">
        <h1>Reset and Populate</h1>
        <!-- <h2>Reset User Table</h2> -->
        <p>If you wish to reset the  (user) table press on the reset button. If this is the first time you're running this page, you
            MUST use reset</p>
            <div class="button-row">
                <button id="resetAppUsers"> Reset User Table </button>
                <button id="resetTasks"> Reset Task Table</button>
                <!-- <button id="populateAppUsers"> Populate Users </button> -->
                <button id="populateTasks"> Populate Tasks </button>
            </div>
        <div id="resetResultMsg"></div>
        <div id="populateResultMsg"></div>
    </section>

    <br><hr><br>

    <h1>Insertions</h1> 
    <hr><br> <!-- ========================================================================= -->

    <h2> New User </h2>
    <form id="insertAppUser">
        ID: <input type="number" id="insertId" placeholder="Enter ID" required>
        First Name: <input type="text" id="insertFirstName" placeholder="Enter First Name" maxlength="20">
        Last Name: <input type="text" id="insertLastName" placeholder="Enter Last Name" maxlength="20">
        <button type="submit"> Insert </button> <br>
    </form>
    <div id="insertResultMsg"></div>

    <h2> New Task </h2>
    <form id="insertUserTask">
        userID: <input type="number" id="insertUserId" placeholder="Enter ID" required>
        TaskID: <input type="number" id="insertTaskId" placeholder="Enter ID" required>
        <label for="frequency">Frequency:</label>
        <select name="frequency" id="insertFrequency">
            <option value="daily">Daily</option>
            <option value="weekly">Weekly</option>
            <option value="biweekly">Biweekly</option>
            <option value="monthly">Monthly</option>
            <option value="biannually">Biannually</option>
            <option value="annually">Annually</option>
        </select> <br>
        Details: <input type="text" id="insertDetails" placeholder="Enter Details" maxlength="20">

        <button type="submit"> Insert </button> <br>
    </form>
    <div id="insertResultMsg"></div>

    <h2>New Plant</h2>
    <form id="insertPlantForm">
        Plant ID: <input type="number" id="plantID" required><br>

        <label for="species">Species:</label>
        <select id="species" required>
            <option value="">Select a species</option>
        </select><br>

        Plant Name: <input type="text" id="plantName" required><br>
        PlantLog ID: <input type="number" id="plantLogID" required><br>
        
        <label for="soilID">Soil ID:</label>
        <select id="soilID">
            <option value="">Select a soil ID</option>
        </select><br>
    
        Growth Stage: <input type="text" id="growth"><br>
        Harvest Date: <input type="date" id="harvestDate"><br>
    
        <button type="submit">Insert</button>
    </form>
    <div id="insertPlantMsg"></div>

    <h1>Deletions</h1> 

    <hr><br> <!-- ========================================================================= -->
    <h2> Delete User </h2>
    <form id="deleteUser">
        userID: <input type="number" id="deleteUserID" placeholder="Enter ID" required> <br><br>
        <button type="submit"> Delete </button> <br>
    </form>
    <div id="deleteResultMsg"></div>
    <br>

    <h2>Delete Plant</h2>
    <form id="deletePlantForm">
        Plant ID: <input type="number" id="deletePlantID" required><br>
        Species: <input type="text" id="deleteSpecies" required><br>
        <button type="submit">Delete</button>
    </form>
    <div id="deletePlantMsg"></div>
    <br>

    <h1>Updates</h1>     
    <hr><br> <!-- ========================================================================= -->

    <h2>Update Name in DemoTable</h2>
    <p>The values are case sensitive and if you enter in the wrong case, the update statement will not do anything.</p>
    <form id="updataNameDemotable">
        Old Name: <input type="text" id="updateOldName" placeholder="Enter Old Name" required> <br><br>
        New Name: <input type="text" id="updateNewName" placeholder="Enter New Name" maxlength="20"> <br><br>

        <button type="submit"> update </button> <br>
    </form>
    <!-- A placeholder to display messages related to the update operation. -->
    <div id="updateNameResultMsg"></div>

    <h2>Update Plant Growth</h2>
    <form id="updatePlantGrowthForm">
        <label for="updatePlantID">Select Plant ID:</label>
        <select id="updatePlantID" required>
            <option value="">Choose a plant</option>
        </select><br>

        <label for="newGrowth">New Growth Stage:</label>
        <input type="text" id="newGrowth" placeholder="e.g., Blooming" required><br>

        <button type="submit">Update Growth</button>
    </form>
    <div id="updatePlantGrowthMsg"></div>

    <br>
    <hr><br> <!-- ========================================================================= -->

    <h2>Count Number of Users</h2>
    <!-- <button id="countDemotable"> count </button> <br><br> -->
    <button id="countAppUsers"> count </button> <br><br>
    <!-- A placeholder to display the count result. -->
    <div id="countResultMsg"></div> <br>

    <h2> Number of Users based on Task Frequency </h2>
    <button id="countAppUsersFrequency" type="button"> count </button> <br><br>
    <table id="frequencyTable" border="1">
    <thead> <tr><th>Frequency</th><th>User Count</th></tr> </thead>
    <tbody></tbody>
    </table>
    <div id="countFrequencyMsg"></div>

    <br>
    <hr><br> <!-- ========================================================================= -->

    <h2>Average # of Tasks per User</h2>
    <form id="avgTasksForm">
        <label for="minTasks">Only include users with more than X tasks:</label>
        <input type="number" id="minTasks" placeholder="Enter X" required>
        <button type="submit">Calculate</button>
    </form>
    <div id="avgTasksResultMsg"></div>
    <table id="avgTasksUserTable" border="1" style="display:none;">
        <thead>
            <tr>
                <th>User ID</th>
                <th>Task Count</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <br>
    <hr><br> <!-- ========================================================================= -->

    <h2>Projection</h2>
    <form id="projectionForm">
        <label for="tableSelect">Choose a table:</label><br>
        <select id="tableSelect" required></select><br><br>
    
        <label for="columnSelect">Choose attributes:</label><br>
        <select id="columnSelect" multiple size="6" style="width: 200px" required></select><br><br>
    
        <button type="submit">Project</button>
    </form>
    
    <div id="projectionResultMsg"></div>
    <table id="projectionTable" border="1">
        <thead><tr></tr></thead>
        <tbody></tbody>
    </table>    

    <!-- ===================================================================================== -->
    <!-- External JavaScript file that contains the functionality/logic for the operations above. -->
    <script src="scripts.js"></script>
</body>

</html>